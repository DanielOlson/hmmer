
<h3> Known problems to fix </h3>

<ul>
<li> <strong> Biased composition messes up the filters. </strong>
   We currently use an ad hoc two-state HMM early in the acceleration
   pipeline to try to detect and filter out biased composition sequences.
   This filter is occasionally too aggressive; see examples of
   failures detected by Rob. Removing the filter (--nobias)
   slightly increases sensitivity, but adds significant variability in
   speed, as some models are dramatically slowed because of filters 
   failing.
</li>

<li> <strong> Short tandem repeats. </strong>
   H3 is less able to annotate short tandem repeats than H2. See test
   cases provided by Rob. Consider reparameterizing JJ transition;
   does altering it screw up E-value estimation?
</li>
</ul>



<h3> Improvements to implement </h3>

<ul>
<li> <strong> Support more alignment formats. </strong>
   research clustalw, muscle, mafft; other popular alignment programs output
   research mrbayes, phylip, paup: phylogeny input
   need input parsers for a2m, psiblast (only have output at present)
   support aligned fasta (separate from a2m). 
   can I use mimetypes for suffixes - is there a formal system for
   mapping suffix to filetype, in system+user-configurable manner?
   esl_msa is too large, needs reorg
</li>

<li> <strong> Minimize run-to-run variability. </strong>
   Make --Rdet, --Rseed, --Rarb options work as intended.
   Pre work: 
   Examples of r2rv for main apps; regression test script to compare;
   add to test suite; does sqc support regression? better to save
   files for regression comparison; saving old binaries isn't reliable
   enough, too cumbersome. need a "replace regression files" script
   and a "do regression test" script.
</li>

<li> <strong> Replace random number generator. </strong>
   RNG is too slow. Replace w/ Mersenne Twister.
   Pre work:
     benchmark - add benchmark for RNG speed
     profile hmmscan/hmmsearch - how much time is in RNG?
     test - how random are the current #'s; get NIST tests again;
     are there other tests? add utest for randomness of RNG; 
   Leave old RNG as option in Easel, don't discard.
</li>

<li> <strong> Support per-model "search method" options. </strong>
   In hmmscan, Pfam (Rob) wants to set specific search options
   for specific models. Implement a Stockholm tag for "search method",
   propagate through hmmbuild into HMM files, have search programs
   interpret it. 
</li>

<li>  <strong> DNA sequence comparison </strong>
   MSV algorithm implementation assumes use as a per-sequence filter.
   Would need to implement version that can filter by region - which
   means implementing some sort of endpoint determination or 
   traceback, not just scoring a sequence. 
</li>

<li>  <strong> Translated comparisons </strong>
   Equiv of BLASTX, TBLASTN, TBLASTX.
</li>

<li>  <strong> Good convergence criteria for jackhmmer. </strong>
   Currently jackhmmer just runs three iterations by default.
   Implement better convergence criteria based on # of new sequences
   detected. Consider adding ^,v,+ annotation to iterations >1, 
   annotating whether a sequence/domain is moving up or down the
   rankings, or newly detected.
</li>
</ul>

<h3> Speed and parallelization issues </h3>

<ul>
<li>  <strong> MPI implementation </strong>
   Currently only hmmbuild (and hmmsim) support MPI. 
   Implement for search programs (hmmsearch, hmmscan, phmmer,
   jackhmmer).
</li>

<li>  <strong> Threads implementation. </strong>
   OpenMPI? Parallelize across multicores.
</li>

<li>  <strong> Optimization.</strong>
   Pick up where optimization left off; see notes.
</li>

<li>  <strong> Port to GPUs </strong>
   We have a nVidia server and CUDA waiting.
</li>

<li>  <strong> Port to Altivec/VMX </strong>
   See code in src/impl_vmx; follow impl_sse framework.
</li>

<li>  <strong> Port to Cell processor </strong>
   See IBM donated code, and Michael Farrar's work.
</li>

<li>  <strong> "Generic" port </strong>
   Should be an impl_generic that works on any processor,
   even if it's slow. 
</li>

<li>  <strong> Port to Sun SPARC VIS instruction set</strong>
</li>
</ul>

<h3> Documentation issues </h3>

<ul>
<li>  <strong> Write man pages </strong>
</li>
 
<li>  <strong> Update alphaguide </strong>
  <ul>
   <li> domain table output changed, and inclusion thresholds added [J4/55] </li>
  </ul>
</li>
</ul>


<h3> Small feature requests </h3>

<ul>
<li> hmmscan (and other progs) should have --acc option, as hmmpfam did,
   for output of accessions instead of names. ("Hiroshi", 13 Jan 09)
</li>

<li> hmmalign option to turn off PP annotation in output alignment
</li>

<li> hmmbuild option to resave alignments including RF markup
</li>

<li> <strong> jackhmmer -A option </strong>
   jackhmmer should have an alignment-saving option -A like phmmer.
   should this be for last alignment, or should it save alignments
   at each round? 
</li>

<li> <strong> More binary distros </strong>
   See about building portable x86 binaries in addition to x86_64.
   Test on Mac OS/X.  Post platforms, speed benchmarks on web page.
   Automate a benchmark timing?  Research icc compiler options; best
   practices; best practice for naming binary distros (guidance from
   Debian, Ubuntu, GNU?)
</li>


<h3> Internal issues, including ongoing refactoring </h3>

<li> hmmscan and hmmsearch should use P7_PIPELINE
</li>

<li> <strong> stretchexp utest occasionally shows stochastic failure </strong>
   Throughout Easel's unit tests, make sure they don't have stochastic
   failures; make sure they always use a fixed RNG seed if they use
   any sampling/simulation.
</li>
</ul>
  


  
